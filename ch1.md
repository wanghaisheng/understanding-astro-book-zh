
  

> Welcome to Understanding Astro!  
> æ¬¢è¿æ¥åˆ°äº†è§£Astroï¼

This book is the ultimate guide to Astro, the next-gen web framework designed for speed ğŸš€  
è¿™æœ¬ä¹¦æ˜¯Astroçš„ç»ˆææŒ‡å—ï¼ŒAstroæ˜¯ä¸ºé€Ÿåº¦è€Œè®¾è®¡çš„ä¸‹ä¸€ä»£Webæ¡†æ¶ ğŸš€

Understanding Astro is the result of spending months digging into Astro and conveying the results in a practical and easy-to-understand fashion.  
äº†è§£Astroæ˜¯èŠ±è´¹æ•°æœˆæ—¶é—´æ·±å…¥ç ”ç©¶Astroå¹¶ä»¥å®ç”¨ä¸”æ˜“äºç†è§£çš„æ–¹å¼ä¼ è¾¾ç»“æœçš„ç»“æœã€‚

If you want to understand Astro, you've come to the right source.  
å¦‚æœä½ æƒ³äº†è§£Astroï¼Œä½ æ¥å¯¹åœ°æ–¹äº†ã€‚

> Don't just learn another framework. Understand it.  
> ä¸è¦åªæ˜¯å­¦ä¹ å¦ä¸€ä¸ªæ¡†æ¶ã€‚ç†è§£å®ƒã€‚

[](#want-to-download-the-ebooks-click-here)[Want to download the ebooks? Click here  
æƒ³ä¸‹è½½ç”µå­ä¹¦å—ï¼Ÿå•å‡»æ­¤å¤„](https://www.ohans.me/understanding-astro)
---------------------------------------------------------------------------------------------------------------------------------------------

  

[](#-table-of-contents-)âœ¨ Table of contents âœ¨  
âœ¨ ç›®å½• âœ¨
======================================================

The following is a detailed table of contents for Understanding Astro.  
ä»¥ä¸‹æ˜¯äº†è§£Astroçš„è¯¦ç»†ç›®å½•ã€‚

  

[![Introduction](/wanghaisheng/understanding-astro-book-zh/raw/master/images/intro.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/intro.png)

[](#introduction)[IntroductionÂ  å¯¼è¨€](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md)
---------------------------------------------------------------------------------------------------------------------------

*   ### [](#dont-be-displeased)[Don't be displeasedÂ  åˆ«ä¸é«˜å…´](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#dont-be-displeased)
    
*   ### [](#differences-to-the-official-documentation)[Differences to the official documentation  
    ä¸å®˜æ–¹æ–‡ä»¶çš„å·®å¼‚](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#differences-to-the-official-documentation)
    
*   ### [](#how-the-book-is-structured)[How the book is structured  
    æœ¬ä¹¦çš„ç»“æ„](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#how-the-book-is-structured)
    
*   ### [](#chapters-overview)[Chapters overviewÂ  ç« èŠ‚æ¦‚è¿°](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#chapters-overview)
    
*   ### [](#prerequisites)[PrerequisitesÂ  å¿…è¦æ¡ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#prerequisites)
    
*   ### [](#typographic-conventions)[Typographic conventionsÂ  å°åˆ·æƒ¯ä¾‹](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#typographic-conventions)
    

  

[![Chapter 1: Build your first Astro Application](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-1.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-1.png)

[](#chapter-1-build-your-first-astro-application)[Chapter 1: Build your first Astro Application  
ç¬¬1ç« ï¼šæ„å»ºç¬¬ä¸€ä¸ªAstroåº”ç”¨ç¨‹åº](#chapter-1-build-your-first-astro-application)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

*   ### [](#what-youll-learn)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#what-youll-learn)
    
*   ### [](#project-overview)[Project OverviewÂ  é¡¹ç›®æ¦‚å†µ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#project-overview)
    
*   ### [](#getting-started)[Getting startedÂ  å¼€å§‹ä½¿ç”¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#getting-started)
    
    *   #### [](#install-nodejs)[Install Node.jsÂ  å®‰è£…Node.js](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#install-nodejs)
        
    *   #### [](#setting-up-your-code-editor)[Setting up your code editor  
        è®¾ç½®ä»£ç ç¼–è¾‘å™¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#setting-up-your-code-editor)
        
*   ### [](#project-structure)[Project structureÂ  é¡¹ç›®ç»“æ„](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#project-structure)
    
    *   #### [](#tsconfigjson)[tsconfig.json](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#tsconfigjson)
        
    *   #### [](#packagejson)[package.json](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#packagejson)
        
    *   #### [](#package-lockjson)[package-lock.json](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#package-lockjson)
        
    *   #### [](#astroconfigmjs)[astro.config.mjs](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#astroconfigmjs)
        
    *   #### [](#srcenvdts)[src/env.d.ts](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#srcenvdts)
        
    *   #### [](#srcpagesindexastro)[src/pages/index.astro](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#srcpagesindexastro)
        
*   ### [](#introduction-to-astro-pages)[Introduction to Astro pages  
    Astroä»‹ç»é¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#introduction-to-astro-pages)
    
*   ### [](#anatomy-of-an-astro-component)[Anatomy of an Astro component  
    Astroç»„ä»¶çš„è§£å‰–ç»“æ„](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#anatomy-of-an-astro-component)
    
*   ### [](#component-styles)[Component stylesÂ  ç»„ä»¶æ ·å¼](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#component-styles)
    
*   ### [](#page-layouts)[Page layoutsÂ  é¡µé¢å¸ƒå±€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#page-layouts)
    
*   ### [](#rendering-components-and-slots)[Rendering components and slots  
    æ¸²æŸ“ç»„ä»¶å’Œæ’æ§½](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#rendering-components-and-slots)
    
*   ### [](#capitalising-component-names)[Capitalising component names  
    å¤§å†™ç»„ä»¶åç§°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#capitalising-component-names)
    
*   ### [](#the-global-style-directive)[The global style directive  
    å…¨å±€æ ·å¼æŒ‡ä»¤](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-global-style-directive)
    
*   ### [](#custom-fonts-and-global-css)[Custom fonts and global CSS  
    è‡ªå®šä¹‰å­—ä½“å’Œå…¨å±€CSS](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#custom-fonts-and-global-css)
    
*   ### [](#independent-astro-components)[Independent Astro components  
    ç‹¬ç«‹Astroç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#independent-astro-components)
    
*   ### [](#adding-interactive-scripts)[Adding interactive scripts  
    æ·»åŠ äº¤äº’å¼è„šæœ¬](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#adding-interactive-scripts)
    
*   ### [](#interactive-theme-toggle)[Interactive theme toggle  
    äº¤äº’å¼ä¸»é¢˜åˆ‡æ¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#interactive-theme-toggle)
    
*   ### [](#the-global-selector)[The :global() selectorÂ  ï¼šglobalï¼ˆï¼‰é€‰æ‹©å™¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-global-selector)
    
*   ### [](#event-handling)[Event HandlingÂ  äº‹ä»¶å¤„ç†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#event-handling)
    
*   ### [](#theming-via-css-variables)[Theming via CSS variables  
    é€šè¿‡CSSå˜é‡è¿›è¡Œä¸»é¢˜åŒ–](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#theming-via-css-variables)
    
*   ### [](#accessing-global-client-objects)[Accessing global client objects  
    è®¿é—®å…¨å±€å®¢æˆ·ç«¯å¯¹è±¡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#accessing-global-client-objects)
    
*   ### [](#the-magic-of-scripts)[The magic of scripts  
    å‰§æœ¬çš„é­”åŠ›](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-magic-of-scripts)
    
*   ### [](#leveraging-inline-scripts)[Leveraging inline scripts  
    åˆ©ç”¨å†…è”è„šæœ¬](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#leveraging-inline-scripts)
    
*   ### [](#global-selectors-in-scripts)[Global selectors in scripts  
    è„šæœ¬ä¸­çš„å…¨å±€é€‰æ‹©å™¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#global-selectors-in-scripts)
    
*   ### [](#markdown-pages)[Markdown pagesÂ  Markdowné¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#markdown-pages)
    
*   ### [](#navigating-between-pages)[Navigating between pages  
    åœ¨é¡µé¢ä¹‹é—´å¯¼èˆª](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#navigating-between-pages)
    
*   ### [](#markdown-layouts)[Markdown layoutsÂ  Markdownå¸ƒå±€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#markdown-layouts)
    
*   ### [](#composing-layouts)[Composing layoutsÂ  åˆæˆå¸ƒå±€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#composing-layouts)
    
*   ### [](#component-props)[Component propsÂ  ç»„ä»¶é“å…·](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#component-props)
    
*   ### [](#leveraging-markdown-frontmatter-properties)[Leveraging markdown frontmatter properties  
    åˆ©ç”¨Markdown frontmatterå±æ€§](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#leveraging-markdown-frontmatter-properties)
    
*   ### [](#interactive-navigation-state)[Interactive navigation state  
    äº¤äº’å¯¼èˆªçŠ¶æ€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#interactive-navigation-state)
    
*   ### [](#component-composition)[Component compositionÂ  ç»„åˆ†ç»„æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#component-composition)
    
*   ### [](#the-template-flow-of-data)[The template flow of data  
    æ¨¡æ¿æ•°æ®æµ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-template-flow-of-data)
    
*   ### [](#the-dark-side-of-definevars)[The dark side of define:vars  
    å®šä¹‰çš„é»‘æš—é¢ï¼švars](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-dark-side-of-definevars)
    
*   ### [](#loading-multiple-local-files)[Loading multiple local files  
    åŠ è½½å¤šä¸ªæœ¬åœ°æ–‡ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#loading-multiple-local-files)
    
*   ### [](#deploying-a-static-astro-site)[Deploying a static Astro site  
    éƒ¨ç½²é™æ€Astroç«™ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#deploying-a-static-astro-site)
    
    *   #### [](#1-create-static-production-assets)[1\. Create static production assets  
        1.åˆ›å»ºé™æ€ç”Ÿäº§èµ„äº§](#1-create-static-production-assets)
        
    *   #### [](#2-serve-the-static-assets-via-a-static-web-server)[2\. Serve the static assets via a static web server  
        2.é€šè¿‡é™æ€WebæœåŠ¡å™¨æä¾›é™æ€èµ„äº§](#2-serve-the-static-assets-via-a-static-web-server)
        
    *   #### [](#the-problem-with-manual-deployments)[The problem with manual deployments  
        æ‰‹åŠ¨éƒ¨ç½²çš„é—®é¢˜](#the-problem-with-manual-deployments)
        
    *   #### [](#automating-the-deployment-of-a-static-website)[Automating the deployment of a static website  
        è‡ªåŠ¨éƒ¨ç½²é™æ€ç½‘ç«™](#automating-the-deployment-of-a-static-website)
        
*   ### [](#how-fast-is-our-astro-website)[How fast is our Astro website?  
    æˆ‘ä»¬çš„Astroç½‘ç«™æœ‰å¤šå¿«ï¼Ÿ](#how-fast-is-our-astro-website)
    
*   ### [](#conclusion)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](#conclusion)
    

  

[![Chapter 2: Astro Components In-depth](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-2.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-2.png)

*   [](#chapter-2-astro-components-in-depth)[Chapter 2: Astro Components In-depth  
    ç¬¬äºŒç« ï¼šAstroç»„ä»¶æ·±å…¥](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#chapter-2-astro-components-in-depth)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-1)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#introduction-1)[IntroductionÂ  å¯¼è¨€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#introduction)
    --------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#the-backbone-of-astro)[The backbone of Astro  
    é˜¿ç«¥æœ¨çš„è„Šæ¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#the-backbone-of-astro)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-javascript-runtime-fatigue)[The Javascript runtime fatigue  
        JavaScriptè¿è¡Œæ—¶ç–²åŠ³](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#the-javascript-runtime-fatigue)
        
    *   ### [](#ditching-the-runtime)[Ditching the runtimeÂ  æ”¾å¼ƒè¿è¡Œæ—¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#ditching-the-runtime)
        
*   [](#what-is-an-astro-component)[What is an Astro component?  
    ä»€ä¹ˆæ˜¯Astroç»„ä»¶ï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#what-is-an-astro-component)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#an-astro-component-is-a-astro-file-capable-of-rendering-any-valid-html)[An astro component is a .astro file capable of rendering any valid HTML  
        astroç»„ä»¶æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå‘ˆç°ä»»ä½•æœ‰æ•ˆHTMLçš„.astroæ–‡ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#an-astro-component-is-a-astro-file-capable-of-rendering-any-valid-html)
        
    *   ### [](#astro-components-can-be-composed-to-make-complex-pages)[Astro components can be composed to make complex pages  
        Astroç»„ä»¶å¯ä»¥ç»„åˆæˆå¤æ‚çš„é¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#astro-components-can-be-composed-to-make-complex-pages)
        
        *   #### [](#1-styles-are-local-by-default)[1\. Styles are local by default  
            1.é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ·å¼æ˜¯æœ¬åœ°æ ·å¼](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#1-styles-are-local-by-default)
            
        *   #### [](#2-the-html-element-will-always-be-present)[2\. The HTML element will always be present  
            2\. HTMLå…ƒç´ å°†å§‹ç»ˆå­˜åœ¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#2-the-html-element-will-always-be-present)
            
        *   #### [](#3-styles-and-scripts-are-hoisted)[3\. Styles and Scripts are Hoisted  
            3.æå‡æ ·å¼å’Œè„šæœ¬](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#3-styles-and-scripts-are-hoisted)
            
        *   #### [](#4-the-head-element-and-its-children-will-not-be-hoisted)[4\. The <head> element and its children will not be hoisted  
            4.ä¸ä¼šæå‡å…ƒç´ åŠå…¶å­å…ƒç´ ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#4-the-head-element-and-its-children-will-not-be-hoisted)
            
*   ### [](#astro-components-can-leverage-a-powerful-templating-syntax)[Astro components can leverage a powerful templating syntax  
    Astroç»„ä»¶å¯ä»¥åˆ©ç”¨å¼ºå¤§çš„æ¨¡æ¿è¯­æ³•](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#astro-components-can-leverage-a-powerful-templating-syntax)
    
    *   #### [](#component-script)[Component scriptÂ  ç»„ä»¶è„šæœ¬](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#component-script)
        
        *   ##### [](#1-creating-or-referencing-variables)[1\. Creating or referencing variables  
            1.åˆ›å»ºæˆ–å¼•ç”¨å˜é‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#1-creating-or-referencing-variables)
            
        *   ##### [](#2-handling-imports)[2\. Handling importsÂ  2.å¤„ç†è¿›å£](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#2-handling-imports)
            
        *   ##### [](#3-fetching-data)[3\. Fetching dataÂ  3.è·å–æ•°æ®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#3-fetching-data)
            
    *   #### [](#component-template)[Component templateÂ  ç»„ä»¶æ¨¡æ¿](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#component-template)
        
        *   ##### [](#consuming-variables)[Consuming variablesÂ  æ¶ˆè´¹å˜é‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#consuming-variables)
            
        *   ##### [](#create-dynamic-attributes)[Create dynamic attributes  
            åˆ›å»ºåŠ¨æ€å±æ€§](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#create-dynamic-attributes)
            
        *   ##### [](#dynamic-html)[Dynamic HTMLÂ  åŠ¨æ€HTML](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#dynamic-html)
            
        *   ##### [](#dynamic-tags)[Dynamic TagsÂ  åŠ¨æ€æ ‡ç­¾](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#dynamic-tags)
            
        *   ##### [](#revisiting-slots)[Revisiting SlotsÂ  é‡æ–°è®¿é—®æ’æ§½](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#revisiting-slots)
            
        *   ##### [](#not-quite-jsx)[Not quite JSXÂ  ä¸å®Œå…¨æ˜¯JSX](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#not-quite-jsx)
            
*   [](#conclusion-1)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 3: Build your own Component Island](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-3.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-3.png)

*   [](#chapter-3-build-your-own-component-island)[Chapter 3: Build Your Own Component Island  
    ç¬¬3ç« æ„å»ºè‡ªå·±çš„ç»„ä»¶å²›](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#chapter-3-build-your-own-component-island)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-2)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#a-brief-history-of-how-we-got-here)[A brief history of how we got here  
    æˆ‘ä»¬å¦‚ä½•èµ°åˆ°è¿™ä¸€æ­¥çš„ç®€å²](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#a-brief-history-of-how-we-got-here)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#where-it-all-begins)[Where it all begins  
        ä¸€åˆ‡å¼€å§‹çš„åœ°æ–¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#where-it-all-begins)
        
    *   ### [](#client-side-rendering-csr)[Client-side rendering (CSR)  
        å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆCSRï¼‰](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#client-side-rendering-csr)
        
        *   #### [](#the-pros-of-client-side-rendering-csr)[The pros of client-side rendering (CSR)  
            å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆCSRï¼‰çš„ä¼˜ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-client-side-rendering-csr)
            
        *   #### [](#the-cons-of-client-side-rendering)[The cons of client-side rendering  
            å®¢æˆ·ç«¯æ¸²æŸ“çš„ç¼ºç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-client-side-rendering)
            
    *   ### [](#server-side-rendering)[Server-side renderingÂ  æœåŠ¡å™¨ç«¯æ¸²æŸ“](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#server-side-rendering)
        
        *   #### [](#the-pros-of-server-side-rendering)[The pros of server-side rendering  
            æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-server-side-rendering)
            
        *   #### [](#the-cons-of-server-side-rendering)[The cons of server-side rendering  
            æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„ç¼ºç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-server-side-rendering)
            
    *   ### [](#server-side-rendering-with-client-side-hydration)[Server-side rendering with client-side hydration  
        æœåŠ¡å™¨ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯åˆæˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#server-side-rendering-with-client-side-hydration)
        
        *   #### [](#the-pros-of-server-side-rendering-with-client-side-hydration)[The pros of server-side rendering with client-side hydration  
            æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¸å®¢æˆ·ç«¯æ°´åˆçš„ä¼˜ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-server-side-rendering-with-client-side-hydration)
            
        *   #### [](#the-cons-of-server-side-rendering-with-client-side-hydration)[The cons of server-side rendering with client-side hydration  
            æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¸å®¢æˆ·ç«¯æ°´åˆçš„ç¼ºç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-server-side-rendering-with-client-side-hydration)
            
    *   ### [](#partial-hydration-for-the-win)[Partial hydration for the win  
        éƒ¨åˆ†æ°´åˆä½œç”¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#partial-hydration-for-the-win)
        
        *   #### [](#the-pros-of-partial-hydration)[The pros of partial hydration  
            éƒ¨åˆ†è¡¥æ°´çš„å¥½å¤„](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-partial-hydration)
            
        *   #### [](#the-cons-of-partial-hydration)[The cons of partial hydration  
            éƒ¨åˆ†æ°´åˆçš„ç¼ºç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-partial-hydration)
            
    *   ### [](#where-does-the-island-architecture-come-from)[Where does the island architecture come from?  
        å²›å±¿å»ºç­‘ä»ä½•è€Œæ¥ï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#where-does-the-island-architecture-come-from)
        
*   [](#a-partial-hydration-islands-architecture-implementation)[A partial hydration islands architecture implementation  
    éƒ¨åˆ†æ°´åˆå²›æ¶æ„å®ç°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#a-partial-hydration-islands-architecture-implementation)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#objectives)[ObjectivesÂ  ç›®çš„](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#objectives)
        
    *   ### [](#installation)[InstallationÂ  å®‰è£…æ–¹å¼](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#installation)
        
    *   ### [](#api-design)[API designÂ  APIè®¾è®¡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#api-design)
        
    *   ### [](#getting-started-1)[Getting startedÂ  å¼€å§‹ä½¿ç”¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#getting-started)
        
    *   ### [](#leveraging-the-content-template-element)[Leveraging the content template element  
        åˆ©ç”¨å†…å®¹æ¨¡æ¿å…ƒç´ ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#leveraging-the-content-template-element)
        
    *   ### [](#handling-lazy-hydration-via-client-attributes)[Handling lazy hydration via â€œclient:â€ attributes  
        é€šè¿‡â€œclientï¼šâ€å±æ€§å¤„ç†å»¶è¿Ÿæ°´åˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#handling-lazy-hydration-via-client-attributes)
        
        *   #### [](#supporting-the-clientidle-and-clientmedia-conditions)[Supporting the client:idle and client:media conditions  
            æ”¯æŒclientï¼šidleå’Œclientï¼šmediaæ¡ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#supporting-the-clientidle-and-clientmedia-conditions)
            
        *   #### [](#waitforidle)[waitForIdleÂ  ç­‰å¾…ç©ºé—²](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#waitforidle)
            
        *   #### [](#waitformedia)[waitForMediaÂ  waitForMedia](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#waitformedia)
            
    *   ### [](#supporting-frameworks-vue-petite-vue-and-preact)[Supporting frameworks: Vue, Petite-vue and Preact  
        æ”¯æŒæ¡†æ¶ï¼šVueã€Petite-Vueå’ŒPreact](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#supporting-frameworks-vue-petite-vue-and-preact)
        
        *   #### [](#vue)[VueÂ  ç»´](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#vue)
            
        *   #### [](#petite-vue)[Petite-vueÂ  å°è§†å›¾](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#petite-vue)
            
        *   #### [](#preact)[PreactÂ  Preact](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#preact)
            
*   [](#conclusion-2)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  
  

[](#want-to-download-the-ebooks-click-here-1)[Want to download the ebooks? Click here  
æƒ³ä¸‹è½½ç”µå­ä¹¦å—ï¼Ÿå•å‡»æ­¤å¤„](https://www.ohans.me/understanding-astro)
-----------------------------------------------------------------------------------------------------------------------------------------------

  
  

[![Chapter 4: Build your own Component Island](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-4.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-4.png)

*   [](#chapter-4-the-secret-life-of-astro-component-islands)[Chapter 4: The Secret Life of Astro Component Islands  
    ç¬¬å››ç« ï¼šå¤©ä½“ç»„ä»¶å²›çš„ç§˜å¯†ç”Ÿæ´»](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#chapter-4-the-secret-life-of-astro-component-islands)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-3)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#how-islands-work-in-astro)[How islands work in Astro  
    å²›å±¿åœ¨Astroä¸­å¦‚ä½•å·¥ä½œ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#how-islands-work-in-astro)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#step-1-build-an-astro-site)[Step 1: Build an Astro site  
        æ­¥éª¤1ï¼šå»ºç«‹Astroç«™ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-1-build-an-astro-site)
        
    *   ### [](#step-2-install-the-framework-integration)[Step 2: Install the framework integration  
        æ­¥éª¤2ï¼šå®‰è£…æ¡†æ¶é›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-2-install-the-framework-integration)
        
    *   ### [](#step-3-write-the-component-framework)[Step 3: Write the component framework  
        æ­¥éª¤3ï¼šç¼–å†™ç»„ä»¶æ¡†æ¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-3-write-the-component-framework)
        
    *   ### [](#step-4-render-the-component-framework)[Step 4: Render the component framework  
        æ­¥éª¤4ï¼šæ¸²æŸ“ç»„ä»¶æ¡†æ¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-4-render-the-component-framework)
        
        *   #### [](#its-not-a-bug-its-a-feature)[Itâ€™s not a bug. Itâ€™s a feature.  
            ä¸æ˜¯è™«å­ã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹è‰²ã€‚](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#its-not-a-bug-its-a-feature)
            
*   [](#responsible-hydration)[Responsible hydrationÂ  è´Ÿè´£ä»»çš„æ°´åˆä½œç”¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#responsible-hydration)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#clientload)[client:loadÂ  å®¢æˆ·ç«¯ï¼šåŠ è½½](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientload)
        
    *   ### [](#clientonly)[client:onlyÂ  å®¢æˆ·ç«¯ï¼šä»…](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientonly)
        
    *   ### [](#clientvisible)[client:visibleÂ  å®¢æˆ·ç«¯ï¼šå¯è§](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientvisible)
        
    *   ### [](#clientmedia)[client:mediaÂ  å®¢æˆ·ç«¯ï¼šåª’ä½“](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientmedia)
        
    *   ### [](#clientidle)[client:idleÂ  å®¢æˆ·ç«¯ï¼šç©ºé—²](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientidle)
        
*   [](#using-multiple-frameworks)[Using multiple frameworks  
    ä½¿ç”¨å¤šä¸ªæ¡†æ¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#using-multiple-frameworks)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#an-upvote-counter-in-vue)[An upvote counter in Vue  
        Vueä¸­çš„upvoteè®¡æ•°å™¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#an-upvote-counter-in-vue)
        
    *   ### [](#rendering-different-framework-components)[Rendering different framework components  
        å‘ˆç°ä¸åŒçš„æ¡†æ¶ç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#rendering-different-framework-components)
        
*   [](#sharing-state-between-component-islands)[Sharing state between component islands  
    ç»„ä»¶å²›ä¹‹é—´å…±äº«çŠ¶æ€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#sharing-state-between-component-islands)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#how-nano-store-works)[How nano store works  
        çº³ç±³å•†åº—å¦‚ä½•å·¥ä½œ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#how-nano-store-works)
        
    *   ### [](#install-nano-store)[Install nano storeÂ  å®‰è£…nano store](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#install-nano-store)
        
    *   ### [](#create-the-state-value)[Create the state value  
        åˆ›å»ºçŠ¶æ€å€¼](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#create-the-state-value)
        
    *   ### [](#using-the-state-value-in-framework-components)[Using the state value in framework components  
        åœ¨æ¡†æ¶ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å€¼](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#using-the-state-value-in-framework-components)
        
*   [](#passing-props-and-children-to-framework-components)[Passing props and children to framework components  
    å‘æ¡†æ¶ç»„ä»¶ä¼ é€’é“å…·å’Œå­é¡¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#passing-props-and-children-to-framework-components)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#nested-framework-components)[Nested framework components  
    åµŒå¥—æ¡†æ¶ç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#nested-framework-components)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#astro-island-gotchas)[Astro Island gotchasÂ  é˜¿æ–¯ç‰¹ç½—å²›](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#astro-island-gotchas)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-do-not-use-an-astro-component-in-a-framework-component)[1\. Do not use an Astro component in a framework component  
        1.ä¸è¦åœ¨æ¡†æ¶ç»„ä»¶ä¸­ä½¿ç”¨Astroç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#1-do-not-use-an-astro-component-in-a-framework-component)
        
    *   ### [](#2-do-not-hydrate-an-astro-component)[2\. Do not hydrate an Astro component  
        2.ä¸è¦æ°´åˆAstroç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#2-do-not-hydrate-an-astro-component)
        
*   [](#why-islands)[Why islands?Â  ä¸ºä»€ä¹ˆæ˜¯å²›å±¿ï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#why-islands)
    ---------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-performance)[1\. PerformanceÂ  1.ä¸šç»©è¡¨ç°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#1-performance)
        
    *   ### [](#2-responsible-hydration)[2\. Responsible hydration  
        2.è´Ÿè´£ä»»çš„æ°´åˆä½œç”¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#2-responsible-hydration)
        
    *   ### [](#3-parallel-loading)[3\. Parallel loadingÂ  3.å¹³è¡ŒåŠ è½½](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#3-parallel-loading)
        
*   [](#conclusion-3)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Oh my React! (React documentation site clone)](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-5.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-5.png)

*   [](#chapter-5-oh-my-react-react-documentation-site-clone)[Chapter 5: Oh my React! (React documentation site clone)  
    ç¬¬äº”ç« ï¼šæˆ‘çš„ååº”ï¼ï¼ˆReactæ–‡æ¡£ç«™ç‚¹å…‹éš†ï¼‰](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-4)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#set-up-the-starter-project)[Set up the starter project  
    è®¾ç½®å¯åŠ¨å™¨é¡¹ç›®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#set-up-the-starter-project)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#installing-dependencies)[Installing dependenciesÂ  æ­£åœ¨å®‰è£…ä¾èµ–é¡¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#installing-dependencies)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#styling-astro-projects-with-tailwind)[Styling Astro projects with Tailwind  
    ä½¿ç”¨Tailwindè®¾è®¡Astroé¡¹ç›®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#styling-astro-projects-with-tailwind)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#installing-tailwind)[Installing TailwindÂ  å®‰è£…å°¾é£](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#installing-tailwind)
        
    *   ### [](#how-does-tailwind-work)[How does Tailwind work?  
        Tailwindæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#how-does-tailwind-work)
        
    *   ### [](#tailwind-configuration)[Tailwind configurationÂ  é¡ºé£å¸ƒå±€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#tailwind-configuration)
        
*   [](#typescript-import-alias)[Typescript import aliasÂ  Typescriptå¯¼å…¥åˆ«å](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#typescript-import-alias)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#islands--colocating-page-components)[Islands & colocating page components  
    å­¤å²›å’Œå…±å®šä½é¡µé¢ç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#islands--colocating-page-components)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#syntax-highlighting)[Syntax highlightingÂ  è¯­æ³•çªå‡ºæ˜¾ç¤º](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#syntax-highlighting)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-default-code-component)[The default Code component  
        é»˜è®¤çš„ä»£ç ç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#the-default-code-component)
        
        *   #### [](#pros)[ProsÂ  ä¼˜ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#pros)
            
        *   #### [](#cons)[ConsÂ  ç¼ºç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#cons)
            
    *   ### [](#bring-your-theme)[Bring your themeÂ  å¸¦ä¸Šä½ çš„ä¸»é¢˜](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#bring-your-theme)
        
        *   #### [](#pros-1)[ProsÂ  ä¼˜ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#pros-1)
            
        *   #### [](#cons-1)[ConsÂ  ç¼ºç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#cons-1)
            
    *   ### [](#handling-light-and-dark-themes)[Handling light and dark themes  
        å¤„ç†æ˜æš—ä¸»é¢˜](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#handling-light-and-dark-themes)
        
*   [](#getting-started-with-content-collections)[Getting Started with Content Collections  
    å†…å®¹é›†å…¥é—¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#getting-started-with-content-collections)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#what-problems-do-content-collections-solve)[What Problems Do Content Collections Solve?  
        å†…å®¹æ”¶é›†è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#what-problems-do-content-collections-solve)
        
    *   ### [](#organising-content-collections)[Organising content collections  
        ç»„ç»‡å†…å®¹é›†åˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#organising-content-collections)
        
    *   ### [](#authoring-content-with-mdx)[Authoring content with MDX  
        ä½¿ç”¨MDXåˆ›ä½œå†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#authoring-content-with-mdx)
        
    *   ### [](#configuring-content-collections)[Configuring content collections  
        é…ç½®å†…å®¹é›†åˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#configuring-content-collections)
        
        *   #### [](#quick-zod)[Quick ZodÂ  å¿«é€Ÿä½å¾·](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#quick-zod)
            
        *   #### [](#the-astro-folder)[The .astro folderÂ  .astroæ–‡ä»¶å¤¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#the-astro-folder)
            
*   [](#query-and-render-content-collections)[Query and render content collections  
    æŸ¥è¯¢å’Œå‘ˆç°å†…å®¹é›†åˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#query-and-render-content-collections)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#dynamic-routing)[Dynamic routingÂ  åŠ¨æ€è·¯ç”±](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#dynamic-routing)
    -----------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-named-parameters)[1\. Named parametersÂ  1.å‘½åå‚æ•°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#1-named-parameters)
        
    *   ### [](#2-rest-parameters)[2\. Rest parametersÂ  2.é™æ­¢å‚æ•°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#2-rest-parameters)
        
    *   ### [](#priority-order)[Priority orderÂ  ä¼˜å…ˆé¡ºåº](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#priority-order)
        
*   [](#generate-routes-with-content-collections)[Generate routes with content collections  
    ä½¿ç”¨å†…å®¹é›†åˆç”Ÿæˆè·¯ç”±](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#generate-routes-with-content-collections)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#rendering-each-blog-content)[Rendering each blog content  
        æ¸²æŸ“æ¯ä¸ªåšå®¢å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#rendering-each-blog-content)
        
*   [](#mdx-components)[MDX componentsÂ  MDXç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#mdx-components)
    ---------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#customised-html-elements)[Customised HTML elements  
        è‡ªå®šä¹‰HTMLå…ƒç´ ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#customised-html-elements)
        
    *   ### [](#internal-components)[Internal componentsÂ  å†…éƒ¨ç»„ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#internal-components)
        
    *   ### [](#external-imports)[External importsÂ  å¤–éƒ¨è¿›å£](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#external-imports)
        
    *   ### [](#autoimport)[AutoImportÂ  è‡ªåŠ¨å¯¼å…¥](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#autoimport)
        
*   [](#integration-spotlight-astro-seo)[Integration spotlight: Astro SEO  
    é›†æˆèšå…‰ç¯ï¼šAstro SEO](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#integration-spotlight-astro-seo)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#custom-404-pages-in-astro)[Custom 404 pages in Astro  
    Astroä¸­çš„è‡ªå®šä¹‰404é¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#custom-404-pages-in-astro)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#conclusion-4)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 6: Server-side Rendering (SSR) in Astro](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-6.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-6.png)

*   [](#chapter-6-server-side-rendering-ssr-in-astro)[Chapter 6: Server-side Rendering (SSR) in Astro  
    ç¬¬6ç« Astroä¸­çš„æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#chapter-6-server-side-rendering-ssr-in-astro)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-5)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#when-do-you-need-ssr)[When do you need SSR?  
    ä»€ä¹ˆæ—¶å€™éœ€è¦SSRï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#when-do-you-need-ssr)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#how-to-enable-ssr)[How to Enable SSR  
    å¦‚ä½•å¯ç”¨SSR](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#how-to-enable-ssr)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#deploying-an-ssr-project)[Deploying an SSR project  
    éƒ¨ç½²SSRé¡¹ç›®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#deploying-an-ssr-project)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#use-the-correct-adapter)[Use the correct adapter  
    ä½¿ç”¨æ­£ç¡®çš„é€‚é…å™¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#use-the-correct-adapter)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#ssr-with-static-pages)[SSR with static pages  
    å¸¦æœ‰é™æ€é¡µé¢çš„SSR](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#ssr-with-static-pages)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#from-request-to-response)[From Request to Response  
    ä»è¯·æ±‚åˆ°å“åº”](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#from-request-to-response)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-request-object)[The Request objectÂ  Requestå¯¹è±¡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#the-request-object)
        
    *   ### [](#the-response-object)[The Response objectÂ  Responseå¯¹è±¡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#the-response-object)
        
    *   ### [](#redirect-response)[Redirect responseÂ  é‡å®šå‘å“åº”](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#redirect-response)
        
    *   ### [](#utilities-for-manipulating-cookies)[Utilities for manipulating cookies  
        ç”¨äºæ“ä½œCookieçš„å®ç”¨ç¨‹åº](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#utilities-for-manipulating-cookies)
        
    *   ### [](#the-request-ip-address)[The request IP address  
        è¯·æ±‚IPåœ°å€](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#the-request-ip-address)
        
*   [](#environment-variables)[Environment variablesÂ  ç¯å¢ƒå˜é‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#environment-variables)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#retrieving-environment-variables)[Retrieving environment variables  
        æ­£åœ¨æ£€ç´¢ç¯å¢ƒå˜é‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#retrieving-environment-variables)
        
    *   ### [](#default-environment-variables)[Default environment variables  
        é»˜è®¤ç¯å¢ƒå˜é‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#default-environment-variables)
        
    *   ### [](#creating-environment-variables)[Creating environment variables  
        åˆ›å»ºç¯å¢ƒå˜é‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#creating-environment-variables)
        
    *   ### [](#typescript-intellisense)[Typescript IntelliSenseÂ  Typescriptæ™ºèƒ½æ„ŸçŸ¥](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#typescript-intellisense)
        
*   [](#dynamic-routes)[Dynamic routesÂ  åŠ¨æ€è·¯ç”±](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#dynamic-routes)
    --------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-named-parameters-1)[1\. Named parametersÂ  1.å‘½åå‚æ•°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#1-named-parameters)
        
    *   ### [](#2-rest-parameters-1)[2\. Rest parametersÂ  2.é™æ­¢å‚æ•°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#2-rest-parameters)
        
    *   ### [](#priority-order-1)[Priority orderÂ  ä¼˜å…ˆé¡ºåº](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#priority-order)
        
*   [](#server-endpoints)[Server endpointsÂ  æœåŠ¡å™¨ç«¯ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#server-endpoints)
    ---------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#creating-server-endpoints)[Creating server endpoints  
        åˆ›å»ºæœåŠ¡å™¨ç»ˆç»“ç‚¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#creating-server-endpoints)
        
    *   ### [](#request-details)[Request detailsÂ  è¯·æ±‚è¯¦æƒ…](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#request-details)
        
    *   ### [](#dynamic-api-routes)[Dynamic API routesÂ  åŠ¨æ€APIè·¯ç”±](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#dynamic-api-routes)
        
    *   ### [](#dedicated-api-directory)[Dedicated api directoryÂ  ä¸“ç”¨APIç›®å½•](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#dedicated-api-directory)
        
    *   ### [](#supporting-other-http-methods)[Supporting other HTTP methods  
        æ”¯æŒå…¶ä»–HTTPæ–¹æ³•](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#supporting-other-http-methods)
        
*   [](#streams-oh-streams)[Streams, oh streamsÂ  æºªæµå•Šæºªæµ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#streams-oh-streams)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#what-is-server-streaming)[What is server streaming?  
        ä»€ä¹ˆæ˜¯æœåŠ¡å™¨æµï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#what-is-server-streaming)
        
    *   ### [](#why-should-we-bother)[Why should we bother?  
        æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦çƒ¦æ¼å‘¢ï¼Ÿ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#why-should-we-bother)
        
    *   ### [](#streaming-is-easy-yet-difficult)[Streaming is easy yet difficult  
        æµåª’ä½“å¾ˆå®¹æ˜“ï¼Œä½†ä¹Ÿå¾ˆéš¾](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#streaming-is-easy-yet-difficult)
        
    *   ### [](#server-streaming-in-astro)[Server streaming in Astro  
        Astroä¸­çš„æœåŠ¡å™¨æµ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#server-streaming-in-astro)
        
    *   ### [](#taking-advantage-of-streaming)[Taking advantage of streaming  
        åˆ©ç”¨æµåª’ä½“](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#taking-advantage-of-streaming)
        
*   [](#conclusion-5)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 7: Be Audible! (Fullstack Astro Project)](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-7.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-7.png)

[](#chapter-7-be-audible-fullstack-astro-project)[Chapter 7: Be Audible! (Fullstack Astro Project)  
ç¬¬7ç« ï¼šä½ æ˜¯è°ï¼Ÿï¼ˆFullstack Astroé¡¹ç›®ï¼‰](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

*   [](#what-youll-learn-6)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#project-setup)[Project setupÂ  é¡¹ç›®è®¾ç½®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#project-setup)
    -----------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#project-overview-1)[Project overviewÂ  é¡¹ç›®æ¦‚å†µ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#project-overview)
    ----------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-homepage)[The homepageÂ  ä¸»é¡µ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-homepage)
        
    *   ### [](#the-record-page)[The record pageÂ  è®°å½•é¡µ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-record-page)
        
    *   ### [](#the-signup-page)[The signup pageÂ  æ³¨å†Œé¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-signup-page)
        
    *   ### [](#the-sign-in-page)[The sign-in pageÂ  ç™»å½•é¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-sign-in-page)
        
    *   ### [](#helper-components-and-utilities)[Helper components and utilities  
        å¸®åŠ©ç¨‹åºç»„ä»¶å’Œå®ç”¨ç¨‹åº](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#helper-components-and-utilities)
        
*   [](#technology-choices)[Technology choicesÂ  æŠ€æœ¯é€‰æ‹©](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#technology-choices)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#backend-setup)[Backend setupÂ  åç«¯è®¾ç½®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#backend-setup)
    -----------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#handling-authentication)[Handling authenticationÂ  å¤„ç†èº«ä»½éªŒè¯](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-authentication)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#initialising-firebase-on-the-client)[Initialising firebase on the client  
        æ­£åœ¨å®¢æˆ·ç«¯ä¸Šåˆå§‹åŒ–Firebase](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#initialising-firebase-on-the-client)
        
    *   ### [](#using-the-firebase-emulators)[Using the Firebase emulators  
        ä½¿ç”¨Firebaseæ¨¡æ‹Ÿå™¨](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#using-the-firebase-emulators)
        
    *   ### [](#handling-user-signups)[Handling user signupsÂ  å¤„ç†ç”¨æˆ·æ³¨å†Œ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-user-signups)
        
    *   ### [](#handling-user-sign-in)[Handling user sign in  
        å¤„ç†ç”¨æˆ·ç™»å½•](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-user-sign-in)
        
*   ### [](#implementing-protected-pages)[Implementing protected pages  
    å®ç°å—ä¿æŠ¤çš„é¡µé¢](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#implementing-protected-pages)
    
    *   ### [](#initialising-firebase-on-the-server)[Initialising Firebase on the server  
        åœ¨æœåŠ¡å™¨ä¸Šåˆå§‹åŒ–Firebase](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#initialising-firebase-on-the-server)
        
    *   ### [](#protecting-the-home-page-route)[Protecting the home page route  
        ä¿æŠ¤ä¸»é¡µè·¯ç”±](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#protecting-the-home-page-route)
        
    *   ### [](#updating-the-redirect-url)[Updating the redirect URL  
        æ›´æ–°é‡å®šå‘URL](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#updating-the-redirect-url)
        
    *   ### [](#log-out-a-user-from-the-protected-page)[Log out a user from the protected page  
        ä»å—ä¿æŠ¤çš„é¡µé¢æ³¨é”€ç”¨æˆ·](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#log-out-a-user-from-the-protected-page)
        
*   [](#cloud-storage-setup)[Cloud storage setupÂ  äº‘å­˜å‚¨è®¾ç½®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#cloud-storage-setup)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#uploading-audio-recordings)[Uploading audio recordings  
    ä¸Šä¼ å½•éŸ³](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#uploading-audio-recordings)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#handling-uploads-via-an-api-route)[Handling uploads via an API route  
        é€šè¿‡APIè·¯ç”±å¤„ç†ä¸Šä¼ ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-uploads-via-an-api-route)
        
    *   ### [](#uploading-recordings-from-the-client)[Uploading recordings from the client  
        ä»å®¢æˆ·ç«¯ä¸Šä¼ å½•éŸ³](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#uploading-recordings-from-the-client)
        
    *   ### [](#reacting-to-ui-changes-in-framework-components)[Reacting to UI changes in framework components  
        å“åº”æ¡†æ¶ç»„ä»¶ä¸­çš„UIæ›´æ”¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#reacting-to-ui-changes-in-framework-components)
        
*   [](#fetching-data-from-the-server)[Fetching data from the server  
    ä»æœåŠ¡å™¨è·å–æ•°æ®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#fetching-data-from-the-server)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#submitting-html-forms)[Submitting HTML formsÂ  æäº¤HTMLè¡¨å•](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#submitting-html-forms)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#conclusion-6)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 1: Build your first Astro Application](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-8.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-8.png)

*   [](#chapter-8-build-your-own-astro-integrations)[Chapter 8: Build Your Own Astro Integrations  
    ç¬¬8ç« ï¼šæ„å»ºè‡ªå·±çš„Astroé›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#chapter-8-build-your-own-astro-integrations)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-7)[What youâ€™ll learnÂ  æ‚¨å°†å­¦åˆ°çš„å†…å®¹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#astro-and-vite)[Astro and ViteÂ  Astroå’ŒVite](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#astro-and-vite)
    --------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-are-astro-integrations)[What are Astro integrations  
    ä»€ä¹ˆæ˜¯Astroé›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#what-are-astro-integrations)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#hello-world-sorry-hello-integration)[Hello world. Sorry, Hello, Integration  
    Hello world.å¯¹ä¸èµ·ï¼Œä½ å¥½ï¼Œé›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#hello-world-sorry-hello-integration)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#project-objective)[Project objectiveÂ  é¡¹ç›®ç›®æ ‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#project-objective)
        
    *   ### [](#your-first-custom-integration)[Your first custom integration  
        æ‚¨çš„ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰é›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#your-first-custom-integration)
        
    *   ### [](#printing-a-message-to-the-server-console)[Printing a message to the server console  
        å°†æ¶ˆæ¯æ‰“å°åˆ°æœåŠ¡å™¨æ§åˆ¶å°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#printing-a-message-to-the-server-console)
        
    *   ### [](#custom-integrations-as-factory-functions)[Custom integrations as factory functions  
        ä½œä¸ºå·¥å‚åŠŸèƒ½çš„è‡ªå®šä¹‰é›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#custom-integrations-as-factory-functions)
        
*   [](#the-astro-hooks-lifecycle)[The Astro hooks lifecycle  
    Astroé’©ç”Ÿå‘½å‘¨æœŸ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#the-astro-hooks-lifecycle)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-when-and-why-of-hooks)[The when and why of hooks  
        hooksçš„æ—¶é—´å’ŒåŸå› ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#the-when-and-why-of-hooks)
        
    *   ### [](#examining-the-hooks-evaluation-order)[Examining the hooks evaluation order  
        æ£€æŸ¥æŒ‚é’©è¯„ä¼°é¡ºåº](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#examining-the-hooks-evaluation-order)
        
*   [](#build-a-default-prerender-integration)[Build a default prerender integration  
    æ„å»ºé»˜è®¤é¢„æ¸²æŸ“é›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#build-a-default-prerender-integration)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#project-objective-1)[Project objectiveÂ  é¡¹ç›®ç›®æ ‡](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#project-objective-1)
        
    *   ### [](#integration-api)[Integration APIÂ  é›†æˆAPI](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#integration-api)
        
    *   ### [](#technical-solution-overview)[Technical solution overview  
        æŠ€æœ¯è§£å†³æ–¹æ¡ˆæ¦‚è¿°](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#technical-solution-overview)
        
    *   ### [](#initialising-projects-via-cli-flags)[Initialising projects via CLI flags  
        é€šè¿‡CLIæ ‡å¿—åˆå§‹åŒ–é¡¹ç›®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#initialising-projects-via-cli-flags)
        
    *   ### [](#setting-up-the-integration)[Setting up the integration  
        è®¾ç½®é›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#setting-up-the-integration)
        
    *   ### [](#validating-a-resolved-astro-configuration)[Validating a resolved Astro configuration  
        éªŒè¯å·²è§£æçš„Astroé…ç½®](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#validating-a-resolved-astro-configuration)
        
    *   ### [](#applying-vite-plugins-in-custom-integrations)[Applying Vite plugins in custom integrations  
        åœ¨è‡ªå®šä¹‰é›†æˆä¸­åº”ç”¨Viteæ’ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#applying-vite-plugins-in-custom-integrations)
        
    *   ### [](#writing-vite-plugins-for-astro)[Writing Vite plugins for Astro  
        ä¸ºAstroç¼–å†™Viteæ’ä»¶](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#writing-vite-plugins-for-astro)
        
    *   ### [](#parsing-and-transforming-asts)[Parsing and transforming ASTs  
        è§£æå’Œè½¬æ¢AST](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#parsing-and-transforming-asts)
        
    *   ### [](#manual-testing)[Manual testingÂ  æ‰‹åŠ¨æµ‹è¯•](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#manual-testing)
        
*   [](#building-renderers-and-library-integrations)[Building renderers and library Integrations  
    æ„å»ºæ¸²æŸ“å™¨å’Œåº“é›†æˆ](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#building-renderers-and-library-integrations)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#conclusion-7)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Conclusion](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-end.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-end.png)

[](#conclusion-8)[ConclusionÂ  ç»“è®ºéƒ¨åˆ†](https://github.com/understanding-astro/understanding-astro-book/blob/master/conclusion.md)
------------------------------------------------------------------------------------------------------------------------------

  
  

[](#want-to-download-the-ebooks-click-here-2)[Want to download the ebooks? Click here  
æƒ³ä¸‹è½½ç”µå­ä¹¦å—ï¼Ÿå•å‡»æ­¤å¤„](https://www.ohans.me/understanding-astro)
-----------------------------------------------------------------------------------------------------------------------------------------------

  
