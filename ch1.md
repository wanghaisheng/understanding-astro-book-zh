
  

> Welcome to Understanding Astro!  
> 欢迎来到了解Astro！

This book is the ultimate guide to Astro, the next-gen web framework designed for speed 🚀  
这本书是Astro的终极指南，Astro是为速度而设计的下一代Web框架 🚀

Understanding Astro is the result of spending months digging into Astro and conveying the results in a practical and easy-to-understand fashion.  
了解Astro是花费数月时间深入研究Astro并以实用且易于理解的方式传达结果的结果。

If you want to understand Astro, you've come to the right source.  
如果你想了解Astro，你来对地方了。

> Don't just learn another framework. Understand it.  
> 不要只是学习另一个框架。理解它。

[](#want-to-download-the-ebooks-click-here)[Want to download the ebooks? Click here  
想下载电子书吗？单击此处](https://www.ohans.me/understanding-astro)
---------------------------------------------------------------------------------------------------------------------------------------------

  

[](#-table-of-contents-)✨ Table of contents ✨  
✨ 目录 ✨
======================================================

The following is a detailed table of contents for Understanding Astro.  
以下是了解Astro的详细目录。

  

[![Introduction](/wanghaisheng/understanding-astro-book-zh/raw/master/images/intro.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/intro.png)

[](#introduction)[Introduction  导言](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md)
---------------------------------------------------------------------------------------------------------------------------

*   ### [](#dont-be-displeased)[Don't be displeased  别不高兴](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#dont-be-displeased)
    
*   ### [](#differences-to-the-official-documentation)[Differences to the official documentation  
    与官方文件的差异](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#differences-to-the-official-documentation)
    
*   ### [](#how-the-book-is-structured)[How the book is structured  
    本书的结构](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#how-the-book-is-structured)
    
*   ### [](#chapters-overview)[Chapters overview  章节概述](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#chapters-overview)
    
*   ### [](#prerequisites)[Prerequisites  必要条件](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#prerequisites)
    
*   ### [](#typographic-conventions)[Typographic conventions  印刷惯例](https://github.com/understanding-astro/understanding-astro-book/blob/master/preface.md#typographic-conventions)
    

  

[![Chapter 1: Build your first Astro Application](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-1.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-1.png)

[](#chapter-1-build-your-first-astro-application)[Chapter 1: Build your first Astro Application  
第1章：构建第一个Astro应用程序](#chapter-1-build-your-first-astro-application)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

*   ### [](#what-youll-learn)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#what-youll-learn)
    
*   ### [](#project-overview)[Project Overview  项目概况](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#project-overview)
    
*   ### [](#getting-started)[Getting started  开始使用](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#getting-started)
    
    *   #### [](#install-nodejs)[Install Node.js  安装Node.js](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#install-nodejs)
        
    *   #### [](#setting-up-your-code-editor)[Setting up your code editor  
        设置代码编辑器](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#setting-up-your-code-editor)
        
*   ### [](#project-structure)[Project structure  项目结构](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#project-structure)
    
    *   #### [](#tsconfigjson)[tsconfig.json](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#tsconfigjson)
        
    *   #### [](#packagejson)[package.json](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#packagejson)
        
    *   #### [](#package-lockjson)[package-lock.json](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#package-lockjson)
        
    *   #### [](#astroconfigmjs)[astro.config.mjs](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#astroconfigmjs)
        
    *   #### [](#srcenvdts)[src/env.d.ts](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#srcenvdts)
        
    *   #### [](#srcpagesindexastro)[src/pages/index.astro](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#srcpagesindexastro)
        
*   ### [](#introduction-to-astro-pages)[Introduction to Astro pages  
    Astro介绍页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#introduction-to-astro-pages)
    
*   ### [](#anatomy-of-an-astro-component)[Anatomy of an Astro component  
    Astro组件的解剖结构](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#anatomy-of-an-astro-component)
    
*   ### [](#component-styles)[Component styles  组件样式](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#component-styles)
    
*   ### [](#page-layouts)[Page layouts  页面布局](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#page-layouts)
    
*   ### [](#rendering-components-and-slots)[Rendering components and slots  
    渲染组件和插槽](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#rendering-components-and-slots)
    
*   ### [](#capitalising-component-names)[Capitalising component names  
    大写组件名称](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#capitalising-component-names)
    
*   ### [](#the-global-style-directive)[The global style directive  
    全局样式指令](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-global-style-directive)
    
*   ### [](#custom-fonts-and-global-css)[Custom fonts and global CSS  
    自定义字体和全局CSS](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#custom-fonts-and-global-css)
    
*   ### [](#independent-astro-components)[Independent Astro components  
    独立Astro组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#independent-astro-components)
    
*   ### [](#adding-interactive-scripts)[Adding interactive scripts  
    添加交互式脚本](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#adding-interactive-scripts)
    
*   ### [](#interactive-theme-toggle)[Interactive theme toggle  
    交互式主题切换](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#interactive-theme-toggle)
    
*   ### [](#the-global-selector)[The :global() selector  ：global（）选择器](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-global-selector)
    
*   ### [](#event-handling)[Event Handling  事件处理](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#event-handling)
    
*   ### [](#theming-via-css-variables)[Theming via CSS variables  
    通过CSS变量进行主题化](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#theming-via-css-variables)
    
*   ### [](#accessing-global-client-objects)[Accessing global client objects  
    访问全局客户端对象](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#accessing-global-client-objects)
    
*   ### [](#the-magic-of-scripts)[The magic of scripts  
    剧本的魔力](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-magic-of-scripts)
    
*   ### [](#leveraging-inline-scripts)[Leveraging inline scripts  
    利用内联脚本](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#leveraging-inline-scripts)
    
*   ### [](#global-selectors-in-scripts)[Global selectors in scripts  
    脚本中的全局选择器](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#global-selectors-in-scripts)
    
*   ### [](#markdown-pages)[Markdown pages  Markdown页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#markdown-pages)
    
*   ### [](#navigating-between-pages)[Navigating between pages  
    在页面之间导航](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#navigating-between-pages)
    
*   ### [](#markdown-layouts)[Markdown layouts  Markdown布局](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#markdown-layouts)
    
*   ### [](#composing-layouts)[Composing layouts  合成布局](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#composing-layouts)
    
*   ### [](#component-props)[Component props  组件道具](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#component-props)
    
*   ### [](#leveraging-markdown-frontmatter-properties)[Leveraging markdown frontmatter properties  
    利用Markdown frontmatter属性](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#leveraging-markdown-frontmatter-properties)
    
*   ### [](#interactive-navigation-state)[Interactive navigation state  
    交互导航状态](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#interactive-navigation-state)
    
*   ### [](#component-composition)[Component composition  组分组成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#component-composition)
    
*   ### [](#the-template-flow-of-data)[The template flow of data  
    模板数据流](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-template-flow-of-data)
    
*   ### [](#the-dark-side-of-definevars)[The dark side of define:vars  
    定义的黑暗面：vars](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#the-dark-side-of-definevars)
    
*   ### [](#loading-multiple-local-files)[Loading multiple local files  
    加载多个本地文件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#loading-multiple-local-files)
    
*   ### [](#deploying-a-static-astro-site)[Deploying a static Astro site  
    部署静态Astro站点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch1.md#deploying-a-static-astro-site)
    
    *   #### [](#1-create-static-production-assets)[1\. Create static production assets  
        1.创建静态生产资产](#1-create-static-production-assets)
        
    *   #### [](#2-serve-the-static-assets-via-a-static-web-server)[2\. Serve the static assets via a static web server  
        2.通过静态Web服务器提供静态资产](#2-serve-the-static-assets-via-a-static-web-server)
        
    *   #### [](#the-problem-with-manual-deployments)[The problem with manual deployments  
        手动部署的问题](#the-problem-with-manual-deployments)
        
    *   #### [](#automating-the-deployment-of-a-static-website)[Automating the deployment of a static website  
        自动部署静态网站](#automating-the-deployment-of-a-static-website)
        
*   ### [](#how-fast-is-our-astro-website)[How fast is our Astro website?  
    我们的Astro网站有多快？](#how-fast-is-our-astro-website)
    
*   ### [](#conclusion)[Conclusion  结论部分](#conclusion)
    

  

[![Chapter 2: Astro Components In-depth](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-2.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-2.png)

*   [](#chapter-2-astro-components-in-depth)[Chapter 2: Astro Components In-depth  
    第二章：Astro组件深入](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#chapter-2-astro-components-in-depth)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-1)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#introduction-1)[Introduction  导言](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#introduction)
    --------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#the-backbone-of-astro)[The backbone of Astro  
    阿童木的脊梁](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#the-backbone-of-astro)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-javascript-runtime-fatigue)[The Javascript runtime fatigue  
        JavaScript运行时疲劳](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#the-javascript-runtime-fatigue)
        
    *   ### [](#ditching-the-runtime)[Ditching the runtime  放弃运行时](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#ditching-the-runtime)
        
*   [](#what-is-an-astro-component)[What is an Astro component?  
    什么是Astro组件？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#what-is-an-astro-component)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#an-astro-component-is-a-astro-file-capable-of-rendering-any-valid-html)[An astro component is a .astro file capable of rendering any valid HTML  
        astro组件是一个能够呈现任何有效HTML的.astro文件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#an-astro-component-is-a-astro-file-capable-of-rendering-any-valid-html)
        
    *   ### [](#astro-components-can-be-composed-to-make-complex-pages)[Astro components can be composed to make complex pages  
        Astro组件可以组合成复杂的页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#astro-components-can-be-composed-to-make-complex-pages)
        
        *   #### [](#1-styles-are-local-by-default)[1\. Styles are local by default  
            1.默认情况下，样式是本地样式](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#1-styles-are-local-by-default)
            
        *   #### [](#2-the-html-element-will-always-be-present)[2\. The HTML element will always be present  
            2\. HTML元素将始终存在](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#2-the-html-element-will-always-be-present)
            
        *   #### [](#3-styles-and-scripts-are-hoisted)[3\. Styles and Scripts are Hoisted  
            3.提升样式和脚本](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#3-styles-and-scripts-are-hoisted)
            
        *   #### [](#4-the-head-element-and-its-children-will-not-be-hoisted)[4\. The <head> element and its children will not be hoisted  
            4.不会提升元素及其子元素](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#4-the-head-element-and-its-children-will-not-be-hoisted)
            
*   ### [](#astro-components-can-leverage-a-powerful-templating-syntax)[Astro components can leverage a powerful templating syntax  
    Astro组件可以利用强大的模板语法](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#astro-components-can-leverage-a-powerful-templating-syntax)
    
    *   #### [](#component-script)[Component script  组件脚本](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#component-script)
        
        *   ##### [](#1-creating-or-referencing-variables)[1\. Creating or referencing variables  
            1.创建或引用变量](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#1-creating-or-referencing-variables)
            
        *   ##### [](#2-handling-imports)[2\. Handling imports  2.处理进口](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#2-handling-imports)
            
        *   ##### [](#3-fetching-data)[3\. Fetching data  3.获取数据](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#3-fetching-data)
            
    *   #### [](#component-template)[Component template  组件模板](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#component-template)
        
        *   ##### [](#consuming-variables)[Consuming variables  消费变量](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#consuming-variables)
            
        *   ##### [](#create-dynamic-attributes)[Create dynamic attributes  
            创建动态属性](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#create-dynamic-attributes)
            
        *   ##### [](#dynamic-html)[Dynamic HTML  动态HTML](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#dynamic-html)
            
        *   ##### [](#dynamic-tags)[Dynamic Tags  动态标签](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#dynamic-tags)
            
        *   ##### [](#revisiting-slots)[Revisiting Slots  重新访问插槽](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#revisiting-slots)
            
        *   ##### [](#not-quite-jsx)[Not quite JSX  不完全是JSX](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#not-quite-jsx)
            
*   [](#conclusion-1)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch2.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 3: Build your own Component Island](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-3.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-3.png)

*   [](#chapter-3-build-your-own-component-island)[Chapter 3: Build Your Own Component Island  
    第3章构建自己的组件岛](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#chapter-3-build-your-own-component-island)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-2)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#a-brief-history-of-how-we-got-here)[A brief history of how we got here  
    我们如何走到这一步的简史](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#a-brief-history-of-how-we-got-here)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#where-it-all-begins)[Where it all begins  
        一切开始的地方](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#where-it-all-begins)
        
    *   ### [](#client-side-rendering-csr)[Client-side rendering (CSR)  
        客户端渲染（CSR）](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#client-side-rendering-csr)
        
        *   #### [](#the-pros-of-client-side-rendering-csr)[The pros of client-side rendering (CSR)  
            客户端渲染（CSR）的优点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-client-side-rendering-csr)
            
        *   #### [](#the-cons-of-client-side-rendering)[The cons of client-side rendering  
            客户端渲染的缺点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-client-side-rendering)
            
    *   ### [](#server-side-rendering)[Server-side rendering  服务器端渲染](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#server-side-rendering)
        
        *   #### [](#the-pros-of-server-side-rendering)[The pros of server-side rendering  
            服务器端渲染的优点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-server-side-rendering)
            
        *   #### [](#the-cons-of-server-side-rendering)[The cons of server-side rendering  
            服务器端渲染的缺点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-server-side-rendering)
            
    *   ### [](#server-side-rendering-with-client-side-hydration)[Server-side rendering with client-side hydration  
        服务器端渲染和客户端合成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#server-side-rendering-with-client-side-hydration)
        
        *   #### [](#the-pros-of-server-side-rendering-with-client-side-hydration)[The pros of server-side rendering with client-side hydration  
            服务器端渲染与客户端水合的优点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-server-side-rendering-with-client-side-hydration)
            
        *   #### [](#the-cons-of-server-side-rendering-with-client-side-hydration)[The cons of server-side rendering with client-side hydration  
            服务器端渲染与客户端水合的缺点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-server-side-rendering-with-client-side-hydration)
            
    *   ### [](#partial-hydration-for-the-win)[Partial hydration for the win  
        部分水合作用](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#partial-hydration-for-the-win)
        
        *   #### [](#the-pros-of-partial-hydration)[The pros of partial hydration  
            部分补水的好处](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-pros-of-partial-hydration)
            
        *   #### [](#the-cons-of-partial-hydration)[The cons of partial hydration  
            部分水合的缺点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#the-cons-of-partial-hydration)
            
    *   ### [](#where-does-the-island-architecture-come-from)[Where does the island architecture come from?  
        岛屿建筑从何而来？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#where-does-the-island-architecture-come-from)
        
*   [](#a-partial-hydration-islands-architecture-implementation)[A partial hydration islands architecture implementation  
    部分水合岛架构实现](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#a-partial-hydration-islands-architecture-implementation)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#objectives)[Objectives  目的](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#objectives)
        
    *   ### [](#installation)[Installation  安装方式](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#installation)
        
    *   ### [](#api-design)[API design  API设计](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#api-design)
        
    *   ### [](#getting-started-1)[Getting started  开始使用](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#getting-started)
        
    *   ### [](#leveraging-the-content-template-element)[Leveraging the content template element  
        利用内容模板元素](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#leveraging-the-content-template-element)
        
    *   ### [](#handling-lazy-hydration-via-client-attributes)[Handling lazy hydration via “client:” attributes  
        通过“client：”属性处理延迟水合](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#handling-lazy-hydration-via-client-attributes)
        
        *   #### [](#supporting-the-clientidle-and-clientmedia-conditions)[Supporting the client:idle and client:media conditions  
            支持client：idle和client：media条件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#supporting-the-clientidle-and-clientmedia-conditions)
            
        *   #### [](#waitforidle)[waitForIdle  等待空闲](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#waitforidle)
            
        *   #### [](#waitformedia)[waitForMedia  waitForMedia](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#waitformedia)
            
    *   ### [](#supporting-frameworks-vue-petite-vue-and-preact)[Supporting frameworks: Vue, Petite-vue and Preact  
        支持框架：Vue、Petite-Vue和Preact](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#supporting-frameworks-vue-petite-vue-and-preact)
        
        *   #### [](#vue)[Vue  维](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#vue)
            
        *   #### [](#petite-vue)[Petite-vue  小视图](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#petite-vue)
            
        *   #### [](#preact)[Preact  Preact](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#preact)
            
*   [](#conclusion-2)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch3.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  
  

[](#want-to-download-the-ebooks-click-here-1)[Want to download the ebooks? Click here  
想下载电子书吗？单击此处](https://www.ohans.me/understanding-astro)
-----------------------------------------------------------------------------------------------------------------------------------------------

  
  

[![Chapter 4: Build your own Component Island](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-4.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-4.png)

*   [](#chapter-4-the-secret-life-of-astro-component-islands)[Chapter 4: The Secret Life of Astro Component Islands  
    第四章：天体组件岛的秘密生活](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#chapter-4-the-secret-life-of-astro-component-islands)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-3)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#how-islands-work-in-astro)[How islands work in Astro  
    岛屿在Astro中如何工作](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#how-islands-work-in-astro)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#step-1-build-an-astro-site)[Step 1: Build an Astro site  
        步骤1：建立Astro站点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-1-build-an-astro-site)
        
    *   ### [](#step-2-install-the-framework-integration)[Step 2: Install the framework integration  
        步骤2：安装框架集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-2-install-the-framework-integration)
        
    *   ### [](#step-3-write-the-component-framework)[Step 3: Write the component framework  
        步骤3：编写组件框架](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-3-write-the-component-framework)
        
    *   ### [](#step-4-render-the-component-framework)[Step 4: Render the component framework  
        步骤4：渲染组件框架](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#step-4-render-the-component-framework)
        
        *   #### [](#its-not-a-bug-its-a-feature)[It’s not a bug. It’s a feature.  
            不是虫子。这是一个特色。](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#its-not-a-bug-its-a-feature)
            
*   [](#responsible-hydration)[Responsible hydration  负责任的水合作用](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#responsible-hydration)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#clientload)[client:load  客户端：加载](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientload)
        
    *   ### [](#clientonly)[client:only  客户端：仅](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientonly)
        
    *   ### [](#clientvisible)[client:visible  客户端：可见](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientvisible)
        
    *   ### [](#clientmedia)[client:media  客户端：媒体](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientmedia)
        
    *   ### [](#clientidle)[client:idle  客户端：空闲](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#clientidle)
        
*   [](#using-multiple-frameworks)[Using multiple frameworks  
    使用多个框架](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#using-multiple-frameworks)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#an-upvote-counter-in-vue)[An upvote counter in Vue  
        Vue中的upvote计数器](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#an-upvote-counter-in-vue)
        
    *   ### [](#rendering-different-framework-components)[Rendering different framework components  
        呈现不同的框架组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#rendering-different-framework-components)
        
*   [](#sharing-state-between-component-islands)[Sharing state between component islands  
    组件岛之间共享状态](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#sharing-state-between-component-islands)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#how-nano-store-works)[How nano store works  
        纳米商店如何工作](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#how-nano-store-works)
        
    *   ### [](#install-nano-store)[Install nano store  安装nano store](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#install-nano-store)
        
    *   ### [](#create-the-state-value)[Create the state value  
        创建状态值](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#create-the-state-value)
        
    *   ### [](#using-the-state-value-in-framework-components)[Using the state value in framework components  
        在框架组件中使用状态值](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#using-the-state-value-in-framework-components)
        
*   [](#passing-props-and-children-to-framework-components)[Passing props and children to framework components  
    向框架组件传递道具和子项](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#passing-props-and-children-to-framework-components)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#nested-framework-components)[Nested framework components  
    嵌套框架组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#nested-framework-components)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#astro-island-gotchas)[Astro Island gotchas  阿斯特罗岛](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#astro-island-gotchas)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-do-not-use-an-astro-component-in-a-framework-component)[1\. Do not use an Astro component in a framework component  
        1.不要在框架组件中使用Astro组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#1-do-not-use-an-astro-component-in-a-framework-component)
        
    *   ### [](#2-do-not-hydrate-an-astro-component)[2\. Do not hydrate an Astro component  
        2.不要水合Astro组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#2-do-not-hydrate-an-astro-component)
        
*   [](#why-islands)[Why islands?  为什么是岛屿？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#why-islands)
    ---------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-performance)[1\. Performance  1.业绩表现](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#1-performance)
        
    *   ### [](#2-responsible-hydration)[2\. Responsible hydration  
        2.负责任的水合作用](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#2-responsible-hydration)
        
    *   ### [](#3-parallel-loading)[3\. Parallel loading  3.平行加载](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#3-parallel-loading)
        
*   [](#conclusion-3)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch4.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Oh my React! (React documentation site clone)](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-5.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-5.png)

*   [](#chapter-5-oh-my-react-react-documentation-site-clone)[Chapter 5: Oh my React! (React documentation site clone)  
    第五章：我的反应！（React文档站点克隆）](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-4)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#set-up-the-starter-project)[Set up the starter project  
    设置启动器项目](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#set-up-the-starter-project)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#installing-dependencies)[Installing dependencies  正在安装依赖项](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#installing-dependencies)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#styling-astro-projects-with-tailwind)[Styling Astro projects with Tailwind  
    使用Tailwind设计Astro项目](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#styling-astro-projects-with-tailwind)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#installing-tailwind)[Installing Tailwind  安装尾风](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#installing-tailwind)
        
    *   ### [](#how-does-tailwind-work)[How does Tailwind work?  
        Tailwind是如何工作的？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#how-does-tailwind-work)
        
    *   ### [](#tailwind-configuration)[Tailwind configuration  顺风布局](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#tailwind-configuration)
        
*   [](#typescript-import-alias)[Typescript import alias  Typescript导入别名](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#typescript-import-alias)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#islands--colocating-page-components)[Islands & colocating page components  
    孤岛和共定位页面组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#islands--colocating-page-components)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#syntax-highlighting)[Syntax highlighting  语法突出显示](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#syntax-highlighting)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-default-code-component)[The default Code component  
        默认的代码组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#the-default-code-component)
        
        *   #### [](#pros)[Pros  优点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#pros)
            
        *   #### [](#cons)[Cons  缺点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#cons)
            
    *   ### [](#bring-your-theme)[Bring your theme  带上你的主题](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#bring-your-theme)
        
        *   #### [](#pros-1)[Pros  优点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#pros-1)
            
        *   #### [](#cons-1)[Cons  缺点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#cons-1)
            
    *   ### [](#handling-light-and-dark-themes)[Handling light and dark themes  
        处理明暗主题](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#handling-light-and-dark-themes)
        
*   [](#getting-started-with-content-collections)[Getting Started with Content Collections  
    内容集入门](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#getting-started-with-content-collections)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#what-problems-do-content-collections-solve)[What Problems Do Content Collections Solve?  
        内容收集解决了哪些问题？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#what-problems-do-content-collections-solve)
        
    *   ### [](#organising-content-collections)[Organising content collections  
        组织内容集合](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#organising-content-collections)
        
    *   ### [](#authoring-content-with-mdx)[Authoring content with MDX  
        使用MDX创作内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#authoring-content-with-mdx)
        
    *   ### [](#configuring-content-collections)[Configuring content collections  
        配置内容集合](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#configuring-content-collections)
        
        *   #### [](#quick-zod)[Quick Zod  快速佐德](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#quick-zod)
            
        *   #### [](#the-astro-folder)[The .astro folder  .astro文件夹](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#the-astro-folder)
            
*   [](#query-and-render-content-collections)[Query and render content collections  
    查询和呈现内容集合](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#query-and-render-content-collections)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#dynamic-routing)[Dynamic routing  动态路由](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#dynamic-routing)
    -----------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-named-parameters)[1\. Named parameters  1.命名参数](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#1-named-parameters)
        
    *   ### [](#2-rest-parameters)[2\. Rest parameters  2.静止参数](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#2-rest-parameters)
        
    *   ### [](#priority-order)[Priority order  优先顺序](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#priority-order)
        
*   [](#generate-routes-with-content-collections)[Generate routes with content collections  
    使用内容集合生成路由](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#generate-routes-with-content-collections)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#rendering-each-blog-content)[Rendering each blog content  
        渲染每个博客内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#rendering-each-blog-content)
        
*   [](#mdx-components)[MDX components  MDX组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#mdx-components)
    ---------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#customised-html-elements)[Customised HTML elements  
        自定义HTML元素](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#customised-html-elements)
        
    *   ### [](#internal-components)[Internal components  内部组件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#internal-components)
        
    *   ### [](#external-imports)[External imports  外部进口](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#external-imports)
        
    *   ### [](#autoimport)[AutoImport  自动导入](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#autoimport)
        
*   [](#integration-spotlight-astro-seo)[Integration spotlight: Astro SEO  
    集成聚光灯：Astro SEO](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#integration-spotlight-astro-seo)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#custom-404-pages-in-astro)[Custom 404 pages in Astro  
    Astro中的自定义404页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#custom-404-pages-in-astro)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#conclusion-4)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch5.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 6: Server-side Rendering (SSR) in Astro](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-6.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-6.png)

*   [](#chapter-6-server-side-rendering-ssr-in-astro)[Chapter 6: Server-side Rendering (SSR) in Astro  
    第6章Astro中的服务器端渲染（SSR）](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#chapter-6-server-side-rendering-ssr-in-astro)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-5)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#when-do-you-need-ssr)[When do you need SSR?  
    什么时候需要SSR？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#when-do-you-need-ssr)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#how-to-enable-ssr)[How to Enable SSR  
    如何启用SSR](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#how-to-enable-ssr)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#deploying-an-ssr-project)[Deploying an SSR project  
    部署SSR项目](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#deploying-an-ssr-project)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#use-the-correct-adapter)[Use the correct adapter  
    使用正确的适配器](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#use-the-correct-adapter)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#ssr-with-static-pages)[SSR with static pages  
    带有静态页面的SSR](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#ssr-with-static-pages)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#from-request-to-response)[From Request to Response  
    从请求到响应](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#from-request-to-response)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-request-object)[The Request object  Request对象](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#the-request-object)
        
    *   ### [](#the-response-object)[The Response object  Response对象](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#the-response-object)
        
    *   ### [](#redirect-response)[Redirect response  重定向响应](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#redirect-response)
        
    *   ### [](#utilities-for-manipulating-cookies)[Utilities for manipulating cookies  
        用于操作Cookie的实用程序](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#utilities-for-manipulating-cookies)
        
    *   ### [](#the-request-ip-address)[The request IP address  
        请求IP地址](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#the-request-ip-address)
        
*   [](#environment-variables)[Environment variables  环境变量](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#environment-variables)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#retrieving-environment-variables)[Retrieving environment variables  
        正在检索环境变量](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#retrieving-environment-variables)
        
    *   ### [](#default-environment-variables)[Default environment variables  
        默认环境变量](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#default-environment-variables)
        
    *   ### [](#creating-environment-variables)[Creating environment variables  
        创建环境变量](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#creating-environment-variables)
        
    *   ### [](#typescript-intellisense)[Typescript IntelliSense  Typescript智能感知](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#typescript-intellisense)
        
*   [](#dynamic-routes)[Dynamic routes  动态路由](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#dynamic-routes)
    --------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#1-named-parameters-1)[1\. Named parameters  1.命名参数](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#1-named-parameters)
        
    *   ### [](#2-rest-parameters-1)[2\. Rest parameters  2.静止参数](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#2-rest-parameters)
        
    *   ### [](#priority-order-1)[Priority order  优先顺序](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#priority-order)
        
*   [](#server-endpoints)[Server endpoints  服务器端点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#server-endpoints)
    ---------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#creating-server-endpoints)[Creating server endpoints  
        创建服务器终结点](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#creating-server-endpoints)
        
    *   ### [](#request-details)[Request details  请求详情](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#request-details)
        
    *   ### [](#dynamic-api-routes)[Dynamic API routes  动态API路由](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#dynamic-api-routes)
        
    *   ### [](#dedicated-api-directory)[Dedicated api directory  专用API目录](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#dedicated-api-directory)
        
    *   ### [](#supporting-other-http-methods)[Supporting other HTTP methods  
        支持其他HTTP方法](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#supporting-other-http-methods)
        
*   [](#streams-oh-streams)[Streams, oh streams  溪流啊溪流](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#streams-oh-streams)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#what-is-server-streaming)[What is server streaming?  
        什么是服务器流？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#what-is-server-streaming)
        
    *   ### [](#why-should-we-bother)[Why should we bother?  
        我们为什么要烦恼呢？](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#why-should-we-bother)
        
    *   ### [](#streaming-is-easy-yet-difficult)[Streaming is easy yet difficult  
        流媒体很容易，但也很难](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#streaming-is-easy-yet-difficult)
        
    *   ### [](#server-streaming-in-astro)[Server streaming in Astro  
        Astro中的服务器流](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#server-streaming-in-astro)
        
    *   ### [](#taking-advantage-of-streaming)[Taking advantage of streaming  
        利用流媒体](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#taking-advantage-of-streaming)
        
*   [](#conclusion-5)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch6.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 7: Be Audible! (Fullstack Astro Project)](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-7.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-7.png)

[](#chapter-7-be-audible-fullstack-astro-project)[Chapter 7: Be Audible! (Fullstack Astro Project)  
第7章：你是谁？（Fullstack Astro项目）](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

*   [](#what-youll-learn-6)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#project-setup)[Project setup  项目设置](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#project-setup)
    -----------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#project-overview-1)[Project overview  项目概况](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#project-overview)
    ----------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-homepage)[The homepage  主页](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-homepage)
        
    *   ### [](#the-record-page)[The record page  记录页](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-record-page)
        
    *   ### [](#the-signup-page)[The signup page  注册页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-signup-page)
        
    *   ### [](#the-sign-in-page)[The sign-in page  登录页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#the-sign-in-page)
        
    *   ### [](#helper-components-and-utilities)[Helper components and utilities  
        帮助程序组件和实用程序](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#helper-components-and-utilities)
        
*   [](#technology-choices)[Technology choices  技术选择](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#technology-choices)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#backend-setup)[Backend setup  后端设置](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#backend-setup)
    -----------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#handling-authentication)[Handling authentication  处理身份验证](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-authentication)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#initialising-firebase-on-the-client)[Initialising firebase on the client  
        正在客户端上初始化Firebase](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#initialising-firebase-on-the-client)
        
    *   ### [](#using-the-firebase-emulators)[Using the Firebase emulators  
        使用Firebase模拟器](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#using-the-firebase-emulators)
        
    *   ### [](#handling-user-signups)[Handling user signups  处理用户注册](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-user-signups)
        
    *   ### [](#handling-user-sign-in)[Handling user sign in  
        处理用户登录](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-user-sign-in)
        
*   ### [](#implementing-protected-pages)[Implementing protected pages  
    实现受保护的页面](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#implementing-protected-pages)
    
    *   ### [](#initialising-firebase-on-the-server)[Initialising Firebase on the server  
        在服务器上初始化Firebase](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#initialising-firebase-on-the-server)
        
    *   ### [](#protecting-the-home-page-route)[Protecting the home page route  
        保护主页路由](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#protecting-the-home-page-route)
        
    *   ### [](#updating-the-redirect-url)[Updating the redirect URL  
        更新重定向URL](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#updating-the-redirect-url)
        
    *   ### [](#log-out-a-user-from-the-protected-page)[Log out a user from the protected page  
        从受保护的页面注销用户](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#log-out-a-user-from-the-protected-page)
        
*   [](#cloud-storage-setup)[Cloud storage setup  云存储设置](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#cloud-storage-setup)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#uploading-audio-recordings)[Uploading audio recordings  
    上传录音](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#uploading-audio-recordings)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#handling-uploads-via-an-api-route)[Handling uploads via an API route  
        通过API路由处理上传](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#handling-uploads-via-an-api-route)
        
    *   ### [](#uploading-recordings-from-the-client)[Uploading recordings from the client  
        从客户端上传录音](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#uploading-recordings-from-the-client)
        
    *   ### [](#reacting-to-ui-changes-in-framework-components)[Reacting to UI changes in framework components  
        响应框架组件中的UI更改](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#reacting-to-ui-changes-in-framework-components)
        
*   [](#fetching-data-from-the-server)[Fetching data from the server  
    从服务器获取数据](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#fetching-data-from-the-server)
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#submitting-html-forms)[Submitting HTML forms  提交HTML表单](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#submitting-html-forms)
    ---------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#conclusion-6)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch7.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Chapter 1: Build your first Astro Application](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-8.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-8.png)

*   [](#chapter-8-build-your-own-astro-integrations)[Chapter 8: Build Your Own Astro Integrations  
    第8章：构建自己的Astro集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#chapter-8-build-your-own-astro-integrations)
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-youll-learn-7)[What you’ll learn  您将学到的内容](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#what-youll-learn)
    --------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#astro-and-vite)[Astro and Vite  Astro和Vite](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#astro-and-vite)
    --------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#what-are-astro-integrations)[What are Astro integrations  
    什么是Astro集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#what-are-astro-integrations)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#hello-world-sorry-hello-integration)[Hello world. Sorry, Hello, Integration  
    Hello world.对不起，你好，集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#hello-world-sorry-hello-integration)
    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#project-objective)[Project objective  项目目标](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#project-objective)
        
    *   ### [](#your-first-custom-integration)[Your first custom integration  
        您的第一个自定义集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#your-first-custom-integration)
        
    *   ### [](#printing-a-message-to-the-server-console)[Printing a message to the server console  
        将消息打印到服务器控制台](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#printing-a-message-to-the-server-console)
        
    *   ### [](#custom-integrations-as-factory-functions)[Custom integrations as factory functions  
        作为工厂功能的自定义集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#custom-integrations-as-factory-functions)
        
*   [](#the-astro-hooks-lifecycle)[The Astro hooks lifecycle  
    Astro钩生命周期](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#the-astro-hooks-lifecycle)
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#the-when-and-why-of-hooks)[The when and why of hooks  
        hooks的时间和原因](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#the-when-and-why-of-hooks)
        
    *   ### [](#examining-the-hooks-evaluation-order)[Examining the hooks evaluation order  
        检查挂钩评估顺序](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#examining-the-hooks-evaluation-order)
        
*   [](#build-a-default-prerender-integration)[Build a default prerender integration  
    构建默认预渲染集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#build-a-default-prerender-integration)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    *   ### [](#project-objective-1)[Project objective  项目目标](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#project-objective-1)
        
    *   ### [](#integration-api)[Integration API  集成API](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#integration-api)
        
    *   ### [](#technical-solution-overview)[Technical solution overview  
        技术解决方案概述](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#technical-solution-overview)
        
    *   ### [](#initialising-projects-via-cli-flags)[Initialising projects via CLI flags  
        通过CLI标志初始化项目](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#initialising-projects-via-cli-flags)
        
    *   ### [](#setting-up-the-integration)[Setting up the integration  
        设置集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#setting-up-the-integration)
        
    *   ### [](#validating-a-resolved-astro-configuration)[Validating a resolved Astro configuration  
        验证已解析的Astro配置](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#validating-a-resolved-astro-configuration)
        
    *   ### [](#applying-vite-plugins-in-custom-integrations)[Applying Vite plugins in custom integrations  
        在自定义集成中应用Vite插件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#applying-vite-plugins-in-custom-integrations)
        
    *   ### [](#writing-vite-plugins-for-astro)[Writing Vite plugins for Astro  
        为Astro编写Vite插件](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#writing-vite-plugins-for-astro)
        
    *   ### [](#parsing-and-transforming-asts)[Parsing and transforming ASTs  
        解析和转换AST](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#parsing-and-transforming-asts)
        
    *   ### [](#manual-testing)[Manual testing  手动测试](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#manual-testing)
        
*   [](#building-renderers-and-library-integrations)[Building renderers and library Integrations  
    构建渲染器和库集成](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#building-renderers-and-library-integrations)
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
*   [](#conclusion-7)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/ch8.md#conclusion)
    ----------------------------------------------------------------------------------------------------------------------------------
    

  

[![Conclusion](/wanghaisheng/understanding-astro-book-zh/raw/master/images/ch-end.png)](/wanghaisheng/understanding-astro-book-zh/blob/master/images/ch-end.png)

[](#conclusion-8)[Conclusion  结论部分](https://github.com/understanding-astro/understanding-astro-book/blob/master/conclusion.md)
------------------------------------------------------------------------------------------------------------------------------

  
  

[](#want-to-download-the-ebooks-click-here-2)[Want to download the ebooks? Click here  
想下载电子书吗？单击此处](https://www.ohans.me/understanding-astro)
-----------------------------------------------------------------------------------------------------------------------------------------------

  
